<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <meta name="theme-color" content="#0b0b10" />
  <title>One Page Surprise</title>

  <!-- é–‹æºæ‰‹å¯«å­—é«”ï¼ˆæ–‡é’æ„Ÿï¼‰ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b0b10;
      --bg2:#141428;
      --card:#ffffff10;
      --card2:#ffffff14;
      --text:#f6f6fb;
      --muted:#b8b8cc;
      --accent:#ff6aa2;
      --danger:#ff4d4d;
      --ok:#4cd964;
      --radius:20px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 20% 10%, #2a1b45 0%, transparent 60%),
        radial-gradient(700px 500px at 80% 20%, #2b2b63 0%, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .shell{ width:min(420px, 100%); }

    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid #ffffff1f;
      border-radius: var(--radius);
      padding:18px;
      box-shadow: 0 18px 50px #00000066;
      backdrop-filter: blur(10px);
    }

    .title{
      font-size:22px;
      line-height:1.2;
      margin:2px 0 8px;
      letter-spacing: .3px;
    }
    .subtitle{
      margin:0 0 14px;
      color:var(--muted);
      font-size:14px;
      line-height:1.55;
    }

    .row{ display:flex; gap:10px; }
    input{
      flex:1;
      background:#0f1020aa;
      border:1px solid #ffffff24;
      color:var(--text);
      border-radius:14px;
      padding:12px 12px;
      font-size:16px;
      outline:none;
    }
    input:focus{ border-color:#ffffff50; }
    button{
      background: linear-gradient(180deg, #ff7bb0, var(--accent));
      border:0;
      color:#160914;
      font-weight:700;
      border-radius:14px;
      padding:12px 14px;
      font-size:16px;
      min-width:92px;
      cursor:pointer;
      box-shadow: 0 10px 22px #ff6aa233;
    }
    button:active{ transform: translateY(1px); }

    .hint{
      margin:10px 2px 0;
      font-size:13px;
      color:var(--muted);
      min-height:18px;
    }
    .hint.bad{ color: var(--danger); }
    .hint.good{ color: var(--ok); }
    .hidden{ display:none; }

    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(10px); }
      to{ opacity:1; transform: translateY(0); }
    }
    .gift{ animation: fadeUp .8s ease both; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }
    .shake{
      animation: shake .28s ease;
      border-color: #ff4d4d55 !important;
    }

    .badge{
      display:inline-block;
      font-size:12px;
      color:#ffd7e7;
      border:1px solid #ffffff2a;
      background:#ffffff10;
      padding:6px 10px;
      border-radius:999px;
      margin-bottom:10px;
    }

    .footer{
      text-align:center;
      margin-top:12px;
      color:#ffffff55;
      font-size:12px;
    }

    .linkish{
      color:#ffd1e2;
      text-decoration:underline;
      text-underline-offset:3px;
    }

    /* ========= Unlockedï¼šç‰ˆé¢çµæ§‹ ========= */
    #unlocked{
      padding:0;
      overflow:hidden;

      /* è®“ã€Œé»æ­¤ç¹¼çºŒã€èƒ½ç©©ç©©åœ¨æœ€ä¸‹æ–¹ */
      display:flex;
      flex-direction:column;
      min-height: 82vh;
    }

    .u-header{
      position: sticky;
      top: 0;
      z-index: 10;
      text-align:center;
      padding:14px 12px 10px;
      background: linear-gradient(180deg, #0b0b10cc, #141428aa);
      backdrop-filter: blur(10px);
    }
    .u-header .badge{
      font-size:14px;
      padding:8px 12px;
      margin-bottom:10px;
    }
    .u-header .title{
      font-size:32px;
      margin:0 0 6px;
      line-height:1.12;
      letter-spacing:.5px;
      font-weight:800;
    }

    .u-inner{
      padding:18px;
      flex:1;
      display:flex;
      flex-direction:column;
    }

    /* ========= é›»å½±å¤§å­—å¹• ========= */
    .cinema{
      flex:1;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      padding:12px 10px 0;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    .line{
      width: 100%;
      padding: 0 6px;             /* åªç•™å…©å´ä¸€é»ç©ºç™½ */
      font-family: "Ma Shan Zheng", "Noto Sans TC", system-ui, sans-serif;
      font-size: 34px;            /* å¤§å­—å¹• */
      line-height: 1.35;
      font-weight: 800;           /* ä½ è¦ç²—é«”æ„Ÿï¼šæ‰‹å¯«å­—é«”ä¹Ÿæœƒæ›´æœ‰å­˜åœ¨æ„Ÿ */
      letter-spacing: .6px;
      text-shadow: 0 10px 30px #00000066;
    }

    .line.fade-in{ animation: lineIn .35s ease both; }
    .line.fade-out{ animation: lineOut .22s ease both; }
    @keyframes lineIn{
      from{ opacity:0; transform: translateY(10px); filter: blur(2px); }
      to{ opacity:1; transform: translateY(0); filter: blur(0); }
    }
    @keyframes lineOut{
      from{ opacity:1; transform: translateY(0); }
      to{ opacity:0; transform: translateY(-8px); }
    }

    /* ========= ã€Œé»æ­¤ç¹¼çºŒã€ï¼šåº•éƒ¨ã€ä½å­˜åœ¨æ„Ÿã€åœç•™ 1 ç§’æ‰å‡ºç¾ ========= */
    .next-zone{
      margin-top:auto;
      padding: 10px 0 6px;
      text-align:center;
      color: rgba(255,255,255,.8);
      font-size: 14px;
      font-weight: 600;
      letter-spacing: .4px;
      opacity: 0;
      pointer-events: none; /* æ²’å‡ºç¾å‰ä¸èƒ½é» */
      transition: opacity .35s ease;
    }
    .next-zone.show{
      opacity: 1;
      pointer-events: auto; /* å‡ºç¾å¾Œæ‰å¯é» */
    }
    .next-zone span{
      cursor:pointer;
      user-select:none;
    }

    /* ========= ç¦®ç‰©é  ========= */
    .gift-area.hidden{ display:none; }
    .gift-area{
      animation: fadeUp .6s ease both;
      padding-top: 8px;
    }
    .gift-title{
      text-align:center;
      font-size:22px;
      font-weight:800;
      margin: 10px 0 12px;
      letter-spacing:.4px;
    }

    .gift-list{
      list-style:none;
      padding:0;
      margin: 0;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .gift-item{
      background:#ffffff0a;
      border:1px solid #ffffff14;
      border-radius:16px;
      padding:14px 14px;
      line-height:1.55;
    }
    .gift-item .top{
      font-size:16px;
      font-weight:800;
      margin-bottom:6px;
    }
    .gift-item .sub{
      font-size:14px;
      color:#ffffffcc;
    }

    .back-btn{
      margin: 14px auto 0;
      display:block;
      width: 100%;
      max-width: 260px;
      background: #ffffff10;
      border: 1px solid #ffffff22;
      color: rgba(255,255,255,.9);
      border-radius: 999px;
      padding: 12px 14px;
      font-weight: 800;
      font-size: 14px;
      letter-spacing:.4px;
      cursor:pointer;
      box-shadow: 0 12px 30px #00000033;
    }
    .back-btn:active{ transform: translateY(1px); }
  </style>
</head>

<body>
  <main class="shell">
    <!-- Locked -->
    <section id="locked" class="card">
      <div class="badge">ğŸ”’ åªçµ¦è¦ªæ„›çš„å¦³çœ‹</div>
      <h1 class="title">çµ¦å¦³çš„ä¸€å€‹å°é©šå–œ</h1>
      <p class="subtitle">
        è¼¸å…¥å¯†ç¢¼å¾Œï¼Œç¦®ç‰©å¡ç‰‡å°±æœƒå‡ºç¾ã€‚<br/>
        <span class="linkish">ï¼ˆæç¤ºï¼šé€å¦³ç¦®ç‰©çš„äººçš„è‹±æ–‡åï¼Œé¦–å­—å¤§å¯«ï¼‰</span>
      </p>

      <div style="height:1px;background:#ffffff1f;margin:14px 0;"></div>

      <div class="row">
        <input id="pw" type="password" inputmode="text" autocomplete="off" placeholder="è¼¸å…¥å¯†ç¢¼" />
        <button id="btn">è§£é–</button>
      </div>
      <div id="hint" class="hint"></div>
    </section>

    <!-- Unlocked -->
    <section id="unlocked" class="card hidden gift" aria-live="polite">
      <div class="u-header">
        <div class="badge"> ğŸ‡ 30æ­²ç”Ÿæ—¥å¿«æ¨‚ï¼My Dearâ¤ï¸ </div>
        <h2 class="title">ğŸ‚ Happy Lily Day ğŸ‰</h2>
      </div>

      <div class="u-inner">
        <!-- é›»å½±å­—å¹•å€ -->
        <div class="cinema" id="cinema">
          <div class="line fade-in" id="line"></div>
        </div>

        <!-- åº•éƒ¨æç¤ºï¼ˆfooter ä¸Šæ–¹ï¼‰ -->
        <div class="next-zone" id="nextZone">
          <span>é»æ­¤ç¹¼çºŒ</span>
        </div>

        <!-- ç¦®ç‰©å€ï¼ˆæœ€å¾Œæ‰é¡¯ç¤ºï¼‰ -->
        <div class="gift-area hidden" id="giftArea">
          <h3 class="gift-title">ä½ çš„ç¦®ç‰©</h3>

          <ul class="gift-list">
            <li class="gift-item">
              <div class="top">ğŸ SONY ç„¡ç·šå…¨ç½©è€³æ©Ÿ</div>
              <div class="sub">WH-1000XM5 / XM6 è‡ªé¸å…Œæ›åˆ¸</div>
            </li>
          </ul>

          <img
            src="228gift.jpg"
            alt="ç¦®ç‰©å¡ç‰‡"
            style="
              width: 100%;
              max-width: 320px;
              display: block;
              margin: 16px auto 10px;
              border-radius: 16px;
              box-shadow: 0 10px 30px #00000055;
            "
          >

          <button class="back-btn" id="backBtn">å›åˆ°ç¬¬ä¸€å¥è©±</button>
        </div>
      </div>
    </section>

    <div class="footer">Made with full love of mine.</div>
  </main>

  <script>
    // ====== è¨­å®šä½ çš„å¯†ç¢¼ï¼ˆè«‹æ”¹ï¼‰======
    const PASSWORD = "Kevin";

    const locked = document.getElementById("locked");
    const unlocked = document.getElementById("unlocked");
    const pw = document.getElementById("pw");
    const btn = document.getElementById("btn");
    const hint = document.getElementById("hint");

    // ====== é›»å½±å­—å¹•ï¼šä¸€å¥ä¸€é ï¼ˆç”¨ <br/> åˆ†éš”ï¼‰======
    const CINEMA_TEXT = `
æ­å–œä½ é•·å¤§30æ­²äº†<br/>
å¸Œæœ›ä»Šå¹´çš„ä½ ï¼š<br/>
æ›´å¿«æ¨‚<br/>
æ›´æœ‰éŒ¢<br/>
æ›´æœ‰å‹•åŠ›å»å¯¦ç¾ä½ æƒ³è¦çš„ã€‚<br/>
æˆ‘æœƒç¹¼çºŒç‰½è‘—ä½ å¾€å‰èµ°ğŸµ<br/>
ç›´åˆ°å®‡å®™ç›¡é ­ğŸ‘½
    `.trim();

    const lineEl = document.getElementById("line");
    const nextZone = document.getElementById("nextZone");
    const giftArea = document.getElementById("giftArea");
    const backBtn = document.getElementById("backBtn");

    const lines = CINEMA_TEXT
      .split("<br/>")
      .map(s => s.replace(/\n/g, "").trim())
      .filter(Boolean);

    let idx = 0;
    let showingGift = false;
    let animLock = false;
    let ctaTimer = null;

    function setHint(msg, kind){
      hint.textContent = msg || "";
      hint.className = "hint" + (kind ? (" " + kind) : "");
    }

    function showCTAWithDelay(){
      clearTimeout(ctaTimer);
      nextZone.classList.remove("show");
      ctaTimer = setTimeout(() => {
        if(!showingGift) nextZone.classList.add("show");
      }, 1000); // åœç•™è¶…é 1 ç§’æ‰é¡¯ç¤º
    }

    function hideCTA(){
      clearTimeout(ctaTimer);
      nextZone.classList.remove("show");
    }

    function unlock(){
      const v = (pw.value || "").trim();
      if(!v){
        setHint("å…ˆè¼¸å…¥å¯†ç¢¼ï½", "bad");
        pw.focus();
        return;
      }
      if(v !== PASSWORD){
        setHint("å¯†ç¢¼ä¸å°ï¼Œä½ è¦ç¢º?ï¼ˆæç¤ºï¼š5å­—ï¼‰", "bad");

        pw.classList.remove("shake");
        void pw.offsetWidth;
        pw.classList.add("shake");
        pw.select();
        setTimeout(() => pw.classList.remove("shake"), 300);
        return;
      }

      setHint("è§£é–æˆåŠŸï¼", "good");
      locked.classList.add("hidden");
      unlocked.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });

      idx = 0;
      showingGift = false;
      giftArea.classList.add("hidden");

      renderLine(true);
    }

    function renderLine(isFirst=false){
      if(lines.length === 0){
        showGift();
        return;
      }

      hideCTA();

      if(!isFirst){
        lineEl.classList.remove("fade-in");
        lineEl.classList.add("fade-out");
      }

      const doSwap = () => {
        lineEl.classList.remove("fade-out");
        lineEl.textContent = lines[idx] || "";

        lineEl.classList.remove("fade-in");
        void lineEl.offsetWidth;
        lineEl.classList.add("fade-in");

        showCTAWithDelay();
      };

      if(isFirst) doSwap();
      else setTimeout(doSwap, 180);
    }

    function showGift(){
      showingGift = true;
      hideCTA();
      giftArea.classList.remove("hidden");
      setTimeout(() => {
        giftArea.scrollIntoView({ behavior: "smooth", block: "start" });
      }, 80);
    }

    function next(){
      if(animLock) return;
      animLock = true;
      setTimeout(() => (animLock = false), 260);

      if(showingGift) return;

      if(idx < lines.length - 1){
        idx += 1;
        renderLine(false);
      }else{
        showGift();
      }
    }

    function backToFirst(){
      showingGift = false;
      giftArea.classList.add("hidden");
      idx = 0;
      window.scrollTo({ top: 0, behavior: "smooth" });
      renderLine(true);
    }

    // é»åº•éƒ¨ã€Œé»æ­¤ç¹¼çºŒã€
    nextZone.addEventListener("click", next);

    // éµç›¤æ”¯æ´ï¼šç©ºç™½éµ / å³æ–¹å‘éµ
    window.addEventListener("keydown", (e) => {
      if(unlocked.classList.contains("hidden")) return;
      if(e.key === " " || e.key === "ArrowRight"){
        e.preventDefault();
        next();
      }
    });

    backBtn.addEventListener("click", backToFirst);

    btn.addEventListener("click", unlock);
    pw.addEventListener("keydown", (e) => {
      if(e.key === "Enter") unlock();
    });
  </script>
</body>
</html>
